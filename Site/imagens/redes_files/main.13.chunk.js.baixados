(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{O2Sn:function(e,t,n){"use strict";n.r(t),t.default=[{created_at:new Date,message:"Seja bem vindo ao nosso canal de atendimento!",origin:"agent",type:"text"},{created_at:new Date,message:"Obrigado 😊",origin:"channel",type:"text"}]},Vtdi:function(e,t,n){"use strict";n.r(t);var i=n("XfhM"),o=n.n(i),s=n("qSUR"),a=n("lSNA"),r=n.n(a),c=n("yXPU"),l=n.n(c),u=n("o0o1"),h=n.n(u),d=n("gfa5"),f=n("dCQc"),m=n("tpQ+"),p=n("O2Sn"),g=n("nyHz"),w=n("fxp/");function b(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,r=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){r=!0,s=e},f:function(){try{a||null==n.return||n.return()}finally{if(r)throw s}}}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x,k,I,S=null,M=null,P={name:"App",components:{Chat:function(){return n.e(29).then(n.bind(null,"5rCo"))}},data:function(){return{options:{title:this.$t("default.title"),subtitle:this.$t("default.subtitle"),avatar:null,online:null,onlineCampaigns:[],delay:null,animation:"slide",width:380,height:500,closedWidth:380,closedHeight:96,theme:{primary:null,secondary:null,text:""},locale:"pt-BR",autoDetectLanguage:!1,showFormWhenOffline:!1,showCallMe:!1,showAgentInfo:!0,openOnHover:!1,button:{theme:"default",type:"icon",src:"",color:"",animation:"fade",delay:0,interval:1e4,repeat:"infinity"},label:{enabled:!1,text:this.$t("default.label"),theme:"default",closable:!0,delay:1,showWhenOffline:!1},preview:!1,previewDev:!1,pwa:{enabled:!1,app_name:null},welcomeMessage:{enabled:!1,text:""},userForm:{enabled:!1,title:this.$t("default.user_form"),fields:[{name:"name",required:!0,type:"text",label:this.$t("fields.name")},{name:"email",required:!0,type:"email",label:this.$t("fields.email")}]},limit_chars:1500,keepKeyboardOpen:!0,closeAfterFinish:!0,beforeOpen:function(){},afterOpen:function(){},beforeClose:function(){},afterClose:function(){},onClose:function(){},onOpen:function(){}},channelId:null,flowId:null,session:null,clientId:null,uuid:null,wsEndPoint:null,host:null,windowMode:null,browserInfo:null,isReady:!1,websocket:null,messages:[],isLoading:!1,config:null,userParamPrefix:"szf_",userFields:{},autoStartSession:!1,isIncognito:!1,storage:{},inputDisabled:!1}},created:function(){window.addEventListener("message",this.listenIframeMessages),d.a.$on("chat-opening",this.chatOpening),d.a.$on("chat-opened",this.chatOpened),d.a.$on("chat-closing",this.chatClosing),d.a.$on("chat-closed",this.chatClosed),d.a.$on("chat-button-label-closed",this.chatButtonLabelClosed),d.a.$on("chat:create-session",this.createSession),d.a.$on("chat:update-session",this.updateSession),d.a.$on("chat:finish-session",this.finishSession),d.a.$on("chat:flow-restart",this.flowRestart),d.a.$on("chat-iframe-resize",this.ResizeFrameLabel),d.a.$on("chat:init",this.init),d.a.$on("chat:set-options",this.setOptions),this.isLoading=!0},beforeDestroy:function(){window.removeEventListener("message",this.listenIframeMessages),d.a.$off(["chat-opening","chat-opened","chat-closing","chat-closed","chat-button-label-closed","chat:create-session","chat:update-session","chat:flow-restart","chat:init","user-input:focus","chat:set-options"])},beforeCreate:function(){localStorage.removeItem("session-finished")},mounted:(I=l()(h.a.mark((function e(){var t,n,i,o,s,a,r,c,l=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){Object(g.h)((function(t){l.isIncognito=t,l.storage=new w.a(l.isIncognito?"cookies":"local-storage"),e()}))}));case 2:if(n=new URL(window.location.href),this.channelId=n.searchParams.get("cid"),this.host=n.searchParams.get("host")||n.origin,i=n.searchParams.get("debug_api"),o=this.storage.get("fid"),s=!!n.searchParams.get("preview"),a=this.storage.get("uuid-".concat(this.rootChannelID)),!s){e.next=12;break}return this.setPreviewMode(n),e.abrupt("return",!0);case 12:if((n.searchParams.get("fid")||o)&&((r=n.searchParams.get("fid")||o)&&null!=r?(this.storage.set("fid",r,{expires:1,sameSite:"none",secure:!0}),this.flowId=r):this.flowId=o),i?(c=new URL(i),this.wsEndPoint=c.host,this.host=c.host):this.wsEndPoint=this.host,this.channelId){e.next=17;break}return this.sendIframeMessage({action:"chat-error",error:"Channel id required"}),e.abrupt("return");case 17:return this.setUserUrlParams(),a&&""!=a||(a=this.generateUUID(),this.storage.set("uuid-".concat(this.rootChannelID),a)),this.uuid=a,e.next=22,this.setConfig();case 22:if(this.config){e.next=25;break}return console.error("Configuration not found"),e.abrupt("return");case 25:return null!==(t=this.config)&&void 0!==t&&t.whitelabel_favicon&&(document.getElementById("webchaticon").href=this.config.whitelabel_favicon),e.next=28,this.init();case 28:if(this.sendIframeMessage({action:"chat:set-options",options:JSON.stringify(this.options)}),this.sendIframeMessage({action:"chat-ready"}),this.isReady=!0,this.isLoading=!1,n.searchParams.get("windowMode")?this.windowMode="window":this.inIframe()||(this.windowMode="full"),!this.storage.get("chat-open")||"1"!==this.storage.get("chat-open")){e.next=36;break}return setTimeout((function(){d.a.$emit("chat:open",{payload:l.storage.get("fid")||void 0})}),1e3),e.abrupt("return");case 36:S&&clearTimeout(S),this.options.button.delay>0?S=setTimeout((function(){d.a.$emit("chat:show-button")}),1e3*this.options.button.delay):setTimeout((function(){d.a.$emit("chat:show-button")}),500);case 40:case"end":return e.stop()}}),e,this)}))),function(){return I.apply(this,arguments)}),methods:{setConfig:function(){var e=this;return l()(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getConfig().then((function(e){return e.data})).catch((function(t){e.sendIframeMessage({action:"chat-error",error:"Configuration not found"})}));case 2:return e.config=t.sent,e.clientId=e.config.client_id,Object.assign(e.options,e.config.config.options),e.config.config.options.locale&&(e.$root.$i18n.locale=e.config.config.options.locale),e.options.showOnline&&(e.options.online=!!e.config.online),e.options.avatar&&(e.options.avatar="".concat(e.host).concat(e.options.avatar)),e.options.button.src&&(e.options.button.src="".concat(e.host).concat(e.options.button.src)),e.options.label.enabled||e.sendIframeMessage({action:"chat-label-off"}),e.options.pwa.whitelabel_favicon=e.config.whitelabel_favicon||!1,e.options.pwa.pushKey=e.config.pwa_push_key||null,t.abrupt("return",!0);case 13:case"end":return t.stop()}}),t)})))()},setSessionParams:function(){var e=this.config;if(this.userFields&&e.config.options&&e.config.options.userForm.enabled){var t=Object.entries(this.userFields),n=e.config.options.userForm.fields.filter((function(e){return e.checked&&e.required})),i=!0;if(n.forEach((function(e){t.find((function(t){return t[0].toLowerCase()==e.name.toLowerCase()}))||(i=!1)})),n.length<=0&&(i=!1),t.length>0&&i)return void(this.autoStartSession=!0);var o=this.options.userForm.fields.some((function(e){return e.checked}));this.autoStartSession=i&&!o}},init:(k=l()(h.a.mark((function e(t){var n=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.session=null,this.setSessionParams(),this.session){e.next=6;break}return e.next=5,this.getSession().then((function(e){var t=e.data;return!1!==(null==t?void 0:t.exists)&&t})).catch((function(e){return!1}));case 5:this.session=e.sent;case 6:if(this.session||!this.autoStartSession){e.next=14;break}return e.next=9,this.createSession();case 9:if(this.session=e.sent,t?t.sendMessage=!0:t={sendMessage:!0},this.session){e.next=14;break}return this.sendIframeMessage({action:"chat-error",error:"Couldn't start the session"}),e.abrupt("return");case 14:return this.websocket&&this.websocket.disconnect(),this.session&&this.startWebsocket(),e.next=18,this.sleep(500);case 18:return e.next=20,this.getMessages().then((function(e){return e.data.map((function(e){return _(_({},e),{},{id:Date.now()+Math.random()})}))}));case 20:return this.messages=e.sent,this.sendIfWebsocketReady((function(){d.a.$emit("chat:set-messages",n.messages)})),t&&t.sendMessage&&this.sendIfWebsocketReady((function(){d.a.$emit("chat:send-text-message",n.$t("default.start_message"),!1)})),e.abrupt("return",!0);case 24:case"end":return e.stop()}}),e,this)}))),function(e){return k.apply(this,arguments)}),sleep:function(e){return new Promise((function(t){return setTimeout(t,e)}))},sendIfWebsocketReady:function(e){var t=this,n=setInterval((function(){var i,o;1===(null===(i=t.websocket)||void 0===i||null===(o=i.socket)||void 0===o?void 0:o.readyState)&&(e(),clearInterval(n))}),200)},setPreviewMode:function(e){var t=this;this.options.preview=!0;var n=e.searchParams;return this.options.title=n.get("title")||"",this.options.subtitle=n.get("subtitle")||"",this.options.avatar=n.get("avatar"),this.options.animation=n.get("animation"),this.options.online="1"==n.get("online"),this.options.userForm.enabled="1"==n.get("userForm.enabled"),this.options.userForm.title=n.get("userForm.title"),this.options.userForm.fields=n.get("userForm.fields")?n.get("userForm.fields").split(",").map((function(e){var n=e.split("|");return{name:n[0],type:t.getFieldType(n[0]),required:1==n[1],label:n[2],checked:!0}})):[],this.options.label.enabled="1"==n.get("label.enabled"),this.options.label.text=n.get("label.text"),this.options.label.closable=1==n.get("label.closable"),this.options.welcomeMessage.enabled="1"==n.get("welcomeMessage.enabled"),this.options.welcomeMessage.text=n.get("welcomeMessage.text"),this.options.theme.primary=n.get("theme.primary"),this.options.theme.secondary=n.get("theme.secondary"),this.options.theme.text=n.get("theme.text"),this.options.button.delay=0,this.options.button.icon=n.get("button.icon"),this.options.button.type=n.get("button.type"),this.options.button.src=n.get("button.src"),this.options.button.color=n.get("button.color"),this.session={},this.isReady=!0,this.isLoading=!1,this.windowMode="window",setTimeout((function(){switch(n.get("view")){case"chat":t.messages=p.default,t.options.userForm.enabled=!1,d.a.$emit("chat:open"),d.a.$emit("chat:set-messages",t.messages);break;case"chat-welcome":t.options.userForm.enabled=!1,t.options.welcomeMessage.enabled?t.messages=[{created_at:Object(g.f)(),message:t.options.welcomeMessage.text,origin:"agent",type:"text"}]:t.messages=[],d.a.$emit("chat:open"),d.a.$emit("chat:set-messages",t.messages);break;case"button":d.a.$emit("chat:show-button"),d.a.$emit("chat:show-button-label");break;case"user-form":t.session.form_filled=!1,d.a.$emit("chat:open");break;default:d.a.$emit("chat:close",{force:!0}),d.a.$emit("chat:set-messages",t.messages)}}),500),!0},startWebsocket:function(){this.websocket=Object(m.a)(this.wsEndPoint,{query:new URLSearchParams({token:"webchat",web_id:this.session.platform_id,client_id:this.clientId}).toString()}),this.websocket.on("message",this.wsOnMessage)},setUserUrlParams:function(){var e,t=b(new URL(window.location.href).searchParams);try{for(t.s();!(e=t.n()).done;){var n=e.value;n[0].startsWith(this.userParamPrefix)&&(this.userFields[this.parseUserParam(n[0])]=n[1])}}catch(e){t.e(e)}finally{t.f()}},parseUserParam:function(e){var t=e.split("_");return t.shift(),t.join("_")},getFieldType:function(e){var t="text";switch(e.toLowerCase()){case"email":t="email";break;case"telefone":case"phone":case"celular":t="tel"}return t},wsOnMessage:function(e){var t=this;switch(e.event){case"webchatEvent":this.sendIframeMessage({action:"chat-event",message:e.message});break;case"message":d.a.$emit("chat:receive-message",e.content);break;case"humanStart":this.session.isAttendance=e.isAttendance,this.session.phase=e.phase,d.a.$emit("chat:human-start",e);break;case"autoFinishContact":case"humanFinishApi":case"waitFinishAdmin":case"waitFinishContact":case"waitFinishSpread":case"waitFinishTime":case"waitFinishTimeConfer":case"humanFinish":case"humanFinishTime":case"humanFinishAdmin":case"humanFinishContact":case"humanFinishStandby":if(e.continueFlow)return;!1===this.options.closeAfterFinish||this.session.active_contact||(this.session.isAttendance=!1,this.session.phase="auto",this.options.userForm.enabled?(M&&clearTimeout(M),this.inputDisabled=!0,M=setTimeout((function(){t.isLoading=!0,setTimeout((function(){t.isLoading=!1,t.session&&(t.session.form_filled=!1),t.inputDisabled=!1,t.messages=[],t.websocket.close(),t.websocket=null,t.options.pwa.enabled&&!1!==t.rootPwaInstalled||(t.uuid=t.generateUUID())}),2e3)}),4e3)):d.a.$emit("chat:close")),d.a.$emit("chat:human-finish",e),this.setConfig()}},inIframe:function(){return window.self!==window.top},getConfig:function(){return l()(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("/configuration");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()},getSession:function(){return f.a.get("/session-exists",{params:{browser_id:this.uuid,flow_id:this.flowId?this.flowId:void 0}})},getMessages:function(){return f.a.get("/messages",{params:{browser_id:this.uuid,flow_id:this.flowId?this.flowId:void 0}})},getSessionInfo:function(){this.options.browserInfo;var e=new URL(window.origin);return{browser:this.options.browserInfo,params:e.searchParams}},createSession:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=localStorage.getItem("session-finished");if(n)return!1;if(Object.entries(this.userFields).length){var i=_(_({},e.fields),this.userFields);Object.assign(e,{fields:i})}var o=window.location!==window.parent.location?document.referrer:document.location.href,s=document.location.search;return f.a.post("/session-create",_({origin:o,origin_params:s,browser_id:this.uuid,flow_id:this.flowId?this.flowId:void 0},e)).then((function(e){var n=e.data;return"function"==typeof t&&t(n),n})).catch((function(e){return!1}))},updateSession:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;f.a.patch("/session-update",_({browser_id:this.uuid,flow_id:this.flowId?this.flowId:void 0},t)).then((function(t){var i=t.data;e.session=i,"function"==typeof n&&n(i)}))},finishSession:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};f.a.post("/session-finish",_({session:this.session._id},t)).then((function(){return e.options.closeAfterFinish?setTimeout((function(){e.destroy()}),4e3):e.destroy(),localStorage.setItem("session-finished",!0),!0})).catch((function(){e.options.closeAfterFinish?setTimeout((function(){e.init()}),4e3):e.init()})).finally((function(){e.options.closeAfterFinish?setTimeout((function(){d.a.$emit("chat-session-finished")}),4e3):d.a.$emit("chat-session-finished")}))},flowRestart:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};d.a.$emit("chat-flow-changed",t),this.$nextTick((function(){f.a.post("/flow-restart",_({browser_id:e.uuid,flow_id:e.flowId?e.flowId:void 0},t)).then((function(){d.a.$emit("chat-after-flow-changed",t)})).catch((function(){e.init()}))}))},flowAutoStart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.entries(this.userFields).length&&Object.assign(e,{fields:this.userFields}),f.a.post("/flow-autoStart",_({browser_id:this.uuid,flow_id:this.flowId?this.flowId:void 0},e))},generateUUID:function(){var e=(new Date).getTime(),t=performance&&performance.now&&1e3*performance.now()||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(n){var i=16*Math.random();return e>0?(i=(e+i)%16|0,e=Math.floor(e/16)):(i=(t+i)%16|0,t=Math.floor(t/16)),("x"===n?i:3&i|8).toString(16)}))},listenIframeMessages:function(e){var t=e.data.payload;switch(e.data.action){case"browserInfo":this.options.browserInfo=t,this.inIframe()?t.isMobile&&t.screenWidth<=425?this.windowMode="window-mobile":this.windowMode="window":this.windowMode="full";break;case"chat:open":this.chatOpen(t);break;case"chat:close":this.chatClose(t);break;case"chat:hide":this.chatHide(t);break;case"chat:set-options":this.setOptions(t);break;case"chat-iframe-resize":this.ResizeFrameLabel()}},sendIframeMessage:function(e){window.parent.postMessage(e,"*")},chatOpen:(x=l()(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isLoading=!0,!t||"string"!=typeof t){e.next=9;break}if(this.flowId==t){e.next=7;break}return this.storage.set("fid",t,{expires:1,sameSite:"none",secure:!0}),this.flowId=t,e.next=7,this.init();case 7:e.next=14;break;case 9:if(t||!this.storage.get("fid")){e.next=14;break}return this.storage.destroy("fid"),this.flowId=null,e.next=14,this.init();case 14:d.a.$emit("chat:open",t),this.isLoading=!1;case 16:case"end":return e.stop()}}),e,this)}))),function(e){return x.apply(this,arguments)}),chatOpening:function(){var e=this;this.options.userForm.enabled||this.session||this.createSession({},(function(){e.init(),e.flowAutoStart()})),this.sendIframeMessage({action:"chat-opening"})},chatOpened:function(){"full"!=this.windowMode&&this.storage.set("chat-open",1,{expires:1,sameSite:"none",secure:!0}),this.sendIframeMessage({action:"chat-opened"})},ResizeFrameLabel:function(){var e=this;setTimeout((function(){var t=document.getElementsByClassName("chat-button-label")[0].clientWidth||95,n=document.getElementsByClassName("sz4-chat-button")[0],i=n.clientHeight+40||105,o=t+(n.clientWidth||80)+20;e.sendIframeMessage({action:"chat-iframe-resize",width:o,height:i})}),200)},chatClose:function(e){d.a.$emit("chat:close",e)},chatClosing:function(){this.sendIframeMessage({action:"chat-closing"})},chatClosed:function(){"full"!=this.windowMode&&this.storage.set("chat-open",0,{expires:1,sameSite:"none",secure:!0}),this.sendIframeMessage({action:"chat-closed"})},chatHide:function(e){d.a.$emit("chat:hide",e),this.chatHidden()},chatHidden:function(){this.sendIframeMessage({action:"chat-hidden"})},chatShowButton:function(e){d.a.$emit("chat:show-button",e)},chatButtonLabelClosed:function(){this.storage.set("chat-button-label-closed",1,{expires:2,sameSite:"none",secure:!0});var e=document.getElementsByClassName("sz4-chat-button")[0].clientHeight+16||105,t=document.getElementsByClassName("sz4-chat-button")[0].clientWidth+16||80;this.sendIframeMessage({action:"chat-iframe-resize",width:t,height:e}),this.sendIframeMessage({action:"chat-button-label-closed"})},setOptions:function(e){this.options=Object.assign(this.options,e)},destroy:function(){if(!this.options.pwa.enabled||!1===this.rootPwaInstalled){var e=this.generateUUID();this.storage.set("uuid-".concat(this.rootChannelID),e),this.uuid=e}this.init()}},computed:{getWindowMode:function(){return this.windowMode}}},C=n("KHd+"),O=Object(C.a)(P,(function(){var e=this,t=e._self._c;return e.isReady?t("chat",{attrs:{session:e.session,messages:e.messages,"input-message":e.options.input_message,"finish-message":e.options.finish_message,clientId:e.clientId,title:e.options.title,subtitle:e.options.subtitle,avatar:e.options.avatar,online:e.options.online,animation:e.options.animation,"window-mode":e.getWindowMode,theme:e.options.theme,"label-options":e.options.label,"button-options":e.options.button,preview:e.options.preview,"preview-dev":e.options.previewDev,"show-form-when-offline":e.options.showFormWhenOffline,"user-form":e.options.userForm,"show-call-me":e.options.showCallMe,"open-on-hover":e.options.openOnHover,websocket:e.websocket,"is-loading":e.isLoading,host:e.host,"user-fields":e.userFields,"max-chars":e.options.limit_chars,"browser-info":e.options.browserInfo,"keep-keyboard-open":e.options.keepKeyboardOpen,readonly:e.options.inputDisabled,"pwa-config":e.options.pwa}}):e._e()}),[],!1,null,null,null).exports,F={"pt-BR":{size:"Tamanho",drop_file_here:"Solte seu arquivo aqui para enviar",file_preview_title:"Visualizar",legend:"Legenda",user_input_placeholder:"Digite uma mensagem",contact_form_title:"Desculpe, no momento estamos offline. Deixe uma mensagem que retornaremos em breve.",contact_form_sent:"Sua mensagem foi enviada. Entraremos em contato o mais breve possível!",chat_finish_session:"Deseja realmente encerrar seu atendimento?",chat_finishing:"Finalizando atendimento...",contact_form:{name:"Nome",email:"E-mail",telephone:"Telefone",message:"Mensagem"},validation:{required:"Campo obrigatório",email:"E-mail inválido",telephone:"Telefone inválido",number:"Somente números",cpf:"CPF inválido",cnpj:"CNPJ inválido"},buttons:{start:"Iniciar",send:"Enviar",cancel:"Cancelar",download:"Baixar",close:"Fechar",finish:"Encerrar",back:"Voltar"},default:{title:"Fortics",subtitle:"Posso ajudar?",label:"Posso ajudar?",user_form:"Para iniciar o atendimento preencha os campos abaixo.",start_message:"Iniciar"},errors:{not_sent:"Não foi possível enviar sua mensagem.\nClique para tentar novamente!",audio_unknown:"Aconteceu um erro desconhecido ao tentar acessar seu microfone.",audio_not_found:"Não foi possível iniciar a gravação de áudio, verifique se seu microfone está conectado.",audio_denied:"Você precisa dar permissão de acesso ao seu microfone para gravar mensagens de áudio.",file_not_allowed:"Este tipo de arquivo não é permitido.",file_not_found:"O arquivo não foi encontrado",file_size_exceeded:"O tamanho do arquivo não pode ter mais que {size} ."},fields:{name:"Nome",email:"E-mail"},pwa:{install_message:"Que tal permitir que a gente te chame nesse canal? É só ativar as notificações neste dispositivo.",access_button:"Acessar",install_button:"SIM! Desejo ativar",deny_button:"Não agora",dismiss_button:"Não exibir mais"}},en:{size:"Talla",drop_file_here:"Suelta tu archivo aquí para enviar",file_preview_title:"Preview",legend:"Legend",user_input_placeholder:"Type a message",contact_form_title:"Sorry, we are currently offline. Let us a message then we'll answer you as soon as possible.",contact_form_sent:"Message sent!. We'll contact you as soon as possible.",chat_finish_session:"You really want to end your service?",chat_finishing:"Finishing attendance...",contact_form:{name:"Name",email:"E-mail",telephone:"Phone",message:"Message"},validation:{required:"Required field",email:"Invalid email",telephone:"Invalid phone",number:"Only numbers",cpf:"Invalid CPF",cnpj:"Invalid CNPJ"},buttons:{start:"Start",send:"Send",cancel:"Cancel",download:"Download",close:"Close",finish:"Finish",back:"Back"},default:{title:"Fortics",subtitle:"Can I help you?",label:"Can I help you?",user_form:"To start chat fill the form below",start_message:"Start"},errors:{not_sent:"Your message was not sent.\nClick here to try again!",audio_unknown:"An unknown error occurred while trying to access your microphone.",audio_not_found:"Unable to start recording audio, check that your microne is connected.",audio_denied:"You need to give your microphone access permission to record audio messages.",file_not_allowed:"This kind of file isn't allowed",file_not_found:"The file was not found",file_size_exceeded:"The file size cannot be more than {size}."},fields:{name:"Name",email:"E-mail"},pwa:{install_message:"How about allowing us to call you on this channel? Just enable notifications on this device.",access_button:"Access",install_button:"YEA! I want to activate",deny_button:"No thank you.",dismiss_button:"Do not show anymore"}},es:{size:"Talla",drop_file_here:"Suelta tu archivo aquí para enviar",file_preview_title:"Para ver",legend:"Subtitular",user_input_placeholder:"Escribe un mensaje",contact_form_title:"Lo sentimos, actualmente estamos fuera de línea. Deja un mensaje y te responderemos a la brevedad.",contact_form_sent:"Tu mensaje fue enviado. ¡Nos pondremos en contacto con usted tan pronto como sea posible!",chat_finish_session:"¿De verdad quieres finalizar la sesion?",chat_finishing:"Finalizando servicio...",contact_form:{name:"Nombre",email:"E-mail",telephone:"Teléfono",message:"Mensaje"},validation:{required:"Campo obligatorio",email:"Email inválido",telephone:"Teléfono no válido",number:"Sólo números",cpf:"Número de seguro social no válido",cnpj:"CNPJ no válido"},buttons:{start:"Inicio",send:"Enviar",cancel:"Cancelar",download:"Descargar",close:"Cerca",finish:"Terminar",back:"Vuelve"},default:{title:"Fortics",subtitle:"¿Puedo ayudar?",label:"¿Puedo ayudar?",user_form:"Para iniciar el servicio, complete los campos a continuación.",start_message:"Empezar"},errors:{not_sent:"No pudimos enviar su mensaje. \n¡Haga clic para intentarlo de nuevo!",audio_unknown:"Se produjo un error desconocido al intentar acceder a su micrófono.",audio_not_found:"No se pudo iniciar la grabación de audio, asegúrese de que su micrófono esté conectado.",audio_denied:"Debe otorgar a su micrófono permiso de acceso para grabar mensajes de audio",file_not_allowed:"Este tipo de archivo no está permitido",file_not_found:"No se encontró el archivo",file_size_exceeded:"El tamaño del archivo no puede ser mayor que {size}."},fields:{name:"Nombre",email:"E-mail"},pwa:{install_message:"¿Qué tal si nos permites llamarte por este canal? Simplemente habilite las notificaciones en este dispositivo.",access_button:"Acceso",install_button:"¡SÍ! quiero activar",deny_button:"Não gracias.",dismiss_button:"No mostrar mas"}}};o.a.config.productionTip=!1,o.a.use(s.a);var $=new URL(window.location.href),j=$.searchParams.get("locale")||"pt-BR",T=new s.a({fallbackLocale:"pt-BR",locale:j,messages:F});o.a.mixin({data:function(){return{rootHOST:null,rootChannelID:null,rootPwaInstalled:!1}},mounted:function(){d.a.$on("pwa-installed-status",this.setPwaStatus)},created:function(){this.rootHOST||this.setRootHost()},methods:{setRootHost:function(){this.rootHOST=$.searchParams.get("host")||$.origin,this.rootChannelID=$.searchParams.get("cid")||null},setPwaStatus:function(e){this.rootPwaInstalled=e}}}),new o.a({i18n:T,render:function(e){return e(O)}}).$mount("#app")},dCQc:function(e,t,n){"use strict";var i=n("vDqi"),o=n.n(i),s=new URL(window.location.href),a=s.searchParams.get("cid"),r=s.searchParams.get("debug"),c=s.searchParams.get("host");if(r){var l=s.searchParams.get("debug_api");window.debug_api=l,o.a.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",l&&(c=l)}c||(c=s.origin);var u="".concat(c,"/api/v4/webchat/").concat(a),h=o.a.create({baseURL:u});h.defaults.headers.post["Content-Type"]="application/json",h.defaults.headers.post.Accept="application/json",t.a=h},"fxp/":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n("lwsE"),o=n.n(i),s=n("W8MJ"),a=n.n(s),r=function(){function e(){o()(this,e)}return a()(e,[{key:"get",value:function(e){try{return localStorage.getItem(e)}catch(e){return!1}}},{key:"set",value:function(e,t){try{return localStorage.setItem(e,t)}catch(e){return!1}}},{key:"destroy",value:function(e){try{return localStorage.removeItem(e)}catch(e){return!1}}}]),e}(),c=n("p46w"),l=n.n(c),u=function(){function e(){o()(this,e)}return a()(e,[{key:"get",value:function(e){try{return l.a.get(e)}catch(e){return!1}}},{key:"set",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{expires:7,path:""};try{return l.a.set(e,t,n)}catch(e){return!1}}},{key:"destroy",value:function(e){try{return l.a.remove(e,{path:""})}catch(e){return!1}}}]),e}(),h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"local-storage";o()(this,e),this.service="local-storage"===t?new r:new u;try{this.service.set("SZ4_TEST_KEY"),this.service.destroy("SZ4_TEST_KEY")}catch(e){console.error("Storage service is not available.")}}return a()(e,[{key:"set",value:function(e,t){return this.service.set(e,t)}},{key:"get",value:function(e){return this.service.get(e)}},{key:"destroy",value:function(e){return this.service.destroy(e)}}]),e}()},gfa5:function(e,t,n){"use strict";var i=n("XfhM"),o=n.n(i);t.a=new o.a},nyHz:function(e,t,n){"use strict";n.d(t,"g",(function(){return h})),n.d(t,"k",(function(){return d})),n.d(t,"e",(function(){return f})),n.d(t,"b",(function(){return m})),n.d(t,"i",(function(){return p})),n.d(t,"a",(function(){return g})),n.d(t,"d",(function(){return w})),n.d(t,"c",(function(){return v})),n.d(t,"f",(function(){return y})),n.d(t,"n",(function(){return _})),n.d(t,"m",(function(){return x})),n.d(t,"h",(function(){return k})),n.d(t,"l",(function(){return I})),n.d(t,"j",(function(){return S}));var i=n("J4zp"),o=n.n(i),s=n("yXPU"),a=n.n(s),r=n("o0o1"),c=n.n(r);function l(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,r=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){r=!0,s=e},f:function(){try{a||null==n.return||n.return()}finally{if(r)throw s}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function h(e){return e?e.split(".").pop():""}function d(e,t){return e&&e.length>t?e.replace(RegExp("(.{".concat(t,"})..+"),"g"),"$1…"):e}function f(e){var t=null;if("string"!=typeof e)return t;var n=e.match(/data:([a-zA-Z0-9]+\/[a-zA-Z0-9-.+]+).*,.*/);return n&&n.length&&(t=n[1]),t}function m(e){return e.replace(/<br\s*\/?>/gm,"\n")}function p(e){return e.replace(/(?:\r\n|\r|\n)/g,"<br>")}function g(e){var t,n,i=document.createElement("div");return i.innerText=i.textContent=e,m((t=i.innerHTML,n={nbsp:" ",amp:"&",quot:'"',lt:"<",gt:">"},t.replace(/&(nbsp|amp|quot|lt|gt);/g,(function(e,t){return n[t]}))))}function w(e,t){return b.apply(this,arguments)}function b(){return(b=a()(c.a.mark((function e(t,n){var i,s,a,r,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=l(t.entries()),e.prev=1,i.s();case 3:if((s=i.n()).done){e.next=9;break}return a=o()(s.value,2),r=a[0],u=a[1],e.next=7,n(u,r);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),i.e(e.t0);case 14:return e.prev=14,i.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function v(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t}function y(){var e=new Date;return e=e.getFullYear()+"-"+("00"+(e.getMonth()+1)).slice(-2)+"-"+("00"+e.getDate()).slice(-2)+" "+("00"+e.getHours()).slice(-2)+":"+("00"+e.getMinutes()).slice(-2)+":"+("00"+e.getSeconds()).slice(-2)}var _=function(e){var t,n;if(t=0,!(e=e.replace(/[^\d]/g,"")).length)return!0;if("00000000000"==e||"11111111111"==e||"22222222222"==e||"33333333333"==e||"44444444444"==e||"55555555555"==e||"66666666666"==e||"77777777777"==e||"88888888888"==e||"99999999999"==e)return!1;for(var i=1;i<=9;i++)t+=parseInt(e.substring(i-1,i))*(11-i);if(10!=(n=10*t%11)&&11!=n||(n=0),n!=parseInt(e.substring(9,10)))return!1;t=0;for(i=1;i<=10;i++)t+=parseInt(e.substring(i-1,i))*(12-i);return 10!=(n=10*t%11)&&11!=n||(n=0),n==parseInt(e.substring(10,11))},x=function(e){var t,n,i,o,s;if(t=0,!(e=e.replace(/[^\d]/g,"")).length)return!0;if("00000000000000"==e||"11111111111111"==e||"22222222222222"==e||"33333333333333"==e||"44444444444444"==e||"55555555555555"==e||"66666666666666"==e||"77777777777777"==e||"88888888888888"==e||"99999999999999"==e)return!1;n=e.length-2,o=e.substring(0,n),i=e.substring(n),s=n-7;for(var a=n;a>=1;a--)t+=o.charAt(n-a)*s--,s<2&&(s=9);if((r=t%11<2?0:11-t%11)!=i.charAt(0))return!1;n+=1,o=e.substring(0,n),t=0,s=n-7;for(a=n;a>=1;a--)t+=o.charAt(n-a)*s--,s<2&&(s=9);var r=t%11<2?0:11-t%11;return r==i.charAt(1)},k=function(e){var t,n=e.bind(null,!0),i=e.bind(null,!1);window.webkitRequestFileSystem?webkitRequestFileSystem(0,0,i,n):"MozAppearance"in document.documentElement.style?((t=indexedDB.open("test")).onerror=n,t.onsuccess=i):/constructor/i.test(window.HTMLElement)||window.safari?function(){try{localStorage.length||(localStorage.x=1,localStorage.removeItem("x")),i()}catch(e){navigator.cookieEnabled?n():i()}}():window.indexedDB||!window.PointerEvent&&!window.MSPointerEvent?i():n()},I=function(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),i=new Uint8Array(n.length),o=0;o<n.length;++o)i[o]=n.charCodeAt(o);return i},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=new URL(window.location.href),n=t.searchParams.get("host")||t.origin,i="https://cdn.webchat.sz.chat/";return n.startsWith("https://cdn")||(i="".concat(n,"/webchat/v2/")),e&&(i+=e),i}}},[["Vtdi",7,0,14,15,17,18,20,23,24,21,25,26]]]);